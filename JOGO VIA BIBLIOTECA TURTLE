import turtle
import random

janela = turtle.Screen()
janela.setup(500,500)

xt=0
yt=0
xv=0
yv=0
x1=0
y1=0

contvidas=3
contpontos=0

#PLACAR DE VIDA

placarv = turtle.Turtle()
placarv.pencolor('white')
placarv.fillcolor('green')
placarv.shape('circle')
placarv.shapesize(0.5)
placarv.penup()
placarv.speed(0)
placarv.hideturtle()

# CRIAÇÃO DO PLACAR DE PONTOS

placar1 = turtle.Turtle()
placar1.pencolor('white')
placar1.fillcolor('red')
placar1.shape('circle')
placar1.shapesize(0.5)
placar1.penup()
placar1.speed(0)
placar1.hideturtle()

#contador de pontos da fruta

pontos = turtle.Turtle()
pontos.pencolor('white')
pontos.fillcolor('green')
pontos.shape('circle')
pontos.shapesize(0.8)
pontos.penup()
pontos.speed(0)
pontos.hideturtle()

#contador para diminuir as vidas

vidas = turtle.Turtle()
vidas.pencolor('white')
vidas.fillcolor('green')
vidas.shape('circle')
vidas.shapesize(0.8)
vidas.penup()
vidas.speed(0)
vidas.hideturtle()

#criar jogador

jogador = turtle.Turtle()
jogador.shape('turtle')
jogador.speed(0)
jogador.penup()
jogador.pencolor('black')
jogador.fillcolor('white')

#criar veneno

veneno = turtle.Turtle()
veneno.pencolor('white')
veneno.fillcolor('green')
veneno.shape('circle')
veneno.pensize(0.8)
veneno.penup()
veneno.speed(0)

#criar fruta

fruta = turtle.Turtle()
fruta.pencolor('white')
fruta.fillcolor('red')
fruta.shape('circle')
fruta.shapesize(0.8)
fruta.penup()
fruta.speed(0)

#levar tartaruga ao ponto inicial da arena

xt = -230
yt = -230
jogador.goto(xt, yt)
jogador.pendown()
jogador.pensize(3)

#criando arena

jogador.begin_fill()
for i in range(4):
    jogador.forward(455)
    jogador.left(90)

#voltar tartaruga para ponto central

jogador.penup()
xt = 0
yt = 0
jogador.goto(xt,yt)

#coordenadas do placar

pontos.pencolor('black')
vidas.pencolor('black')
placar1.pencolor('black')
placarv.pencolor('black')
placar1.goto(-215, 230)
placarv.goto(0, 230)
pontos.goto(-150, 230)
vidas.goto(55, 230)

#como escrever ponto e vida do placar

placar1.write('Pontos', font=('Calibri',10, 'normal'))
placarv.write('Vidas', font=('Calibri', 10, 'normal'))

#coordenadas aleatorias do veneno e da fruta, dentro da arena

jogador.fillcolor('black')
x1=random.randint(-220, 215)
y1=random.randint(-220, 215)
xv=random.randintw(-220, 215)
yv= random.randint(-220, 215)

#variaveis auxiliares de pontos e vida
auxpontos = 0
auxvidas = 3

#gameplay

i=True
while i == True:

    if contvidas==0:
        turtle.bye()

    if auxpontos != contpontos:
        pontos.clear()
        auxpontos = contpontos

    if auxvidas != contvidas:
        vidas.clear()
        auxvidas = contvidas

    pontos.write(contpontos, font=('Arial', 10, 'normal')) #escreve novo valor do placar
    vidas.write(contvidas, font=('Arial', 10, 'normal')) #escreve novo valo das vidas

    #comando para nao ocorrer da vida/veneno nascer em cima do personagem
    if x1 == xt and y1 == yt: #se a fruta nascer em cima da tartaruga, entrara no while, e so vai sair se receber uma coordenada diferente da tartaruga
        x=0
        while x < 1:
            if x1 == xt and y1 == yt:
               x1=random.randint(-220, 215)
               y1=random.randint(-220, 215)

               x=0
            else:
             x=x+1

    vidas.goto(x1,y1)
    veneno.goto(xv, yv)

#movimentaçao do personagem

    def cima():
        if jogador.xcor()>220:
            jogador.bk(10)

        if jogador.xcor()<220:
            jogador.bk(10)

        if jogador.ycor()>220:
            jogador.bk(10)

        if jogador.ycor()<220:
            jogador.bk(10)


        jogador.fd(5)

    def baixo():
        if jogador.xcor()>220:
            jogador.fd(10)

        if jogador.xcor()<-215:
            jogador.fd(10)

        if jogador.ycor()>220:
            jogador.fd(10)

        if jogador.ycor()<-215:
            jogador.fd(10)

        jogador.bk(5)

    def esquerda():
        jogador.left(5)

    def direita():
        jogador.right(5)

    xt = jogador.xcor()
    yt = jogador.ycor()
    xt = int(xt) #pega o eixo x da tartaruga e transforma em um numero inteiro armazenado em xt
    yt = int(yt) #pega o eixo y da tartaruga e transforma em um numero inteiro armazenado em yt

#colisoes com a fruta

    if xt >= fruta.xcor()-20 and xt <= fruta.xcor()+20 and yt >= fruta.ycor()-20 and yt <= fruta.ycor()+20:
        x1 = random.randint(-220, 215)
        y1 = random.randint(-220, 215)
        fruta.goto(x1, y1) #quando colide, ela da tp em algum local aleatorio
        contpontos = contpontos+1 #aumenta um ponto no placar

#colisoes com o veneno

    if xt >= veneno.xcor()-20 and xt <= veneno.xcor()+20 and yt >= veneno.ycor()-20 and yt <= veneno.ycor()+20:
        xv = random.randint(-220, 215)
        yv = random.randint(-220, 215)
        veneno.goto(xv, yv)
        contvidas = contvidas-1

    turtle.onkeypress(cima, "Up")
    turtle.onkeypress(baixo, "Down")
    turtle.onkeypress(esquerda, "Left")
    turtle.onkeypress(direita, "Right")

    turtle.onkeypress(cima, "w")
    turtle.onkeypress(baixo, "s")
    turtle.onkeypress(esquerda, "a")
    turtle.onkeypress(direita, "d")

    turtle.listen()



janela.mainloop()
